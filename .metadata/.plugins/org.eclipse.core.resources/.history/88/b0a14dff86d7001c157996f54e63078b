/*
 * gpio.h
 *
 *  Created on: May 19, 2022
 *      Author: danim
 */

#ifndef INCDRIVERS_GPIO_H_
#define INCDRIVERS_GPIO_H_

#include "stm32f091rct6.h"

/*structure to configure a GPIO pin, which will be linked to the registers(GPIO_RegStruct_t in stm32f091rct6.h) in the driver functions*/
typedef struct{
	uint8_t GPIO_PinNumber;
	uint8_t GPIO_PinMode;
	uint8_t GPIO_PinOutType;
	uint8_t GPIO_PinOutSpeed;
	uint8_t GPIO_PinPullUpDown;
	uint8_t GPIO_PinAlterFunc;
}GPIO_PinConfig_t;

/*structure to handle a GPIO pin: configuration struct () + pointer to register struct (GPIO_RegStruct_t in stm32f091rct6.h)*/
typedef struct{
	GPIO_RegStruct_t *pGPIO; //Points to address of GPIO port,so it will be GPIOA,GPIOB..GPIOF (macros in stm32f091rct6.h)
	GPIO_PinConfig_t GPIO_PinConfig;
}GPIO_PinHandle_t;

/*Macros*/
//Modes
#define GPIO_IN 		0
#define GPIO_OUT 		1
#define GPIO_ALTFUN 	2
#define GPIO_ANA 		3

//output mode
#define GPIO_PUSHPULL		0
#define GPIO_OPENDRAIN		1

//output speed
#define GPIO_SLOWSPEED		0
#define GPIO_MEDIUMSPEED	1
#define GPIO_HIGHSPEED		3

//Pull up/down
#define GPIO_NOPULL 		0
#define GPIO_PULLUP 		1
#define GPIO_PULLDOWN 		2
#define GPIO_RESERVEDPULL	3

/*********************************Prototypes of functions defined in gpio.c***********************************/
/*Enable or disable GPIO port peripheral clock*/
void GPIO_ClockControl(GPIO_RegStruct_t *pGPIO, uint8_t EnableDisable);

/*Initialize GPIO pin: mode,out type&speed,pull up/down, alter function*/
void GPIO_PinInit(GPIO_PinHandle_t *pGPIO_PinHandle);

/*Reset GPIO port (not only pin!)*/

/*Lock pin*/

#endif /* INCDRIVERS_GPIO_H_ */
